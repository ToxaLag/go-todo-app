# Телеграм-бот для проведения турниров

Этот бот предназначен для организации и проведения турниров по различным играм через Telegram.

## Установка

1.  **Клонируйте репозиторий:**
    ```bash
    git clone <URL репозитория>
    cd <название папки>
    ```

2.  **Установите зависимости:**
    Убедитесь, что у вас установлен Python 3.8+.
    ```bash
    pip install -r requirements.txt
    ```

3.  **Настройте конфигурацию:**
    *   Скопируйте файл `config.py.example` в новый файл с именем `config.py`.
    *   Откройте `config.py` и заполните его вашими данными:
        *   `TELEGRAM_TOKEN`: Токен вашего телеграм-бота.
        *   `ADMIN_IDS`: Список ID администраторов.

4.  **Инициализируйте базу данных:**
    Запустите этот скрипт один раз для создания структуры базы данных:
    ```bash
    python bot/data/database.py
    ```

## Запуск бота

Для запуска бота выполните команду из корневой папки проекта:
```bash
python -m bot.bot
```

## Команды

### Команды для пользователей

*   `/start` - Показать приветственное сообщение.
*   `/help` - Показать список команд.
*   `/register` - Начать процесс регистрации на турнир.
*   `/my_status` - Проверить свой статус регистрации и текущий матч.
*   `/bracket` - Показать текущую турнирную сетку.

### Команды для администраторов

#### Управление турниром
*   `/broadcast <сообщение>` - Отправить сообщение всем участникам.
*   `/open_registration` - Открыть регистрацию на турнир.
*   `/close_registration` - Закрыть регистрацию на турнир.
*   `/set_mode_nickname` - Установить режим регистрации только по никнейму.
*   `/set_mode_character` - Установить режим регистрации с выбором персонажа.
*   `/start_tournament` - Начать турнир и сгенерировать сетку первого раунда.
*   `/reset_tournament` - Сбросить текущий турнир (удаляет все данные, включая игры и персонажей).

#### Управление играми и персонажами
*   `/add_game <название>`: Добавить новую игру в базу данных.
*   `/remove_game <название>`: Удалить игру и всех ее персонажей.
*   `/list_games`: Посмотреть все добавленные игры.
*   `/set_game <название>`: Установить активную игру для текущего турнира.
*   `/add_chars <игра>; <персонаж1>, <персонаж2>`: Добавить персонажей в игру (разделитель - точка с запятой).
*   `/remove_chars <игра>; <персонаж1>, <персонаж2>`: Удалить персонажей из игры.
*   `/list_chars <игра>`: Показать всех персонажей для игры.
